{% extends "base.html" %}

{% block content %}

{% if http_status != 200 %}
  <h4>HTTP Error {{ http_status }}. Couldn't retrieve new orders </h4>
{% endif %}
{% if timeout == True %}
  <h4>Error: Conection timeout. Couldn't retrieve new orders.</h4>
{% endif %}
{% if connection_error == True %}
  <h4>Error: Connection Error. Couldn't retrieve new orders. </h4>
{% endif %}

<br>

<table id ="new_orders_table" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col" onclick="sortTable(1, 'new_orders_table')">order_number <i class="fa fa-fw fa-sort"></th>
        <th scope="col">order_id</th>
        <th scope="col">Product</th>
        <th scope="col">sku</th>
        <th scope="col">quantity</th>
        <th scope="col">line_item_id</th>
        <th scope="col">created_at</th>
        <th scope="col">assigned_to</th>
        <th scope="col">status</th>
        <th scope="col">fecha_entrega</th>
        <th scope="col">Detail</th>
      </tr>
    </thead>
    <tbody>
      {% for line_item in line_items_list %}
        <tr>
          <th scope="row">{{ forloop.counter }}</th>
          <td>{{ line_item.order_number }}</td>
          <td>{{ line_item.order_id }}</td>
          <td>{{ line_item.title }}</td>
          <td>{{ line_item.product_sku }}</td>
          <td>{{ line_item.quantity }}</td>
          <td>{{ line_item.line_item_id }}</td>
          <td>{{ line_item.created_at }}</td>
          <td>{{ line_item.assigned_to }}</td>
          <td>{{ line_item.status }}</td>
          <td>{{ line_item.fecha_entrega }}</td>
          <td>
            <button type="button" class="btn btn-sm btn-dark" title="Detalles" data-toggle="popover" data-content= '{{ line_item.variant_title }}' >View</button>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  {% endblock content %}
